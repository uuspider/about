---
layout: post
title: Image processing & PIL
---

<script type="text/javascript" src="{{site.baseurl}}/MathJax-2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

## Image Processing & PIL

参考：[Keras Documentation][ref1]{:target="_blank"}, [Keras文档][ref2]{:target="_blank"}, [卷积神经网络][ref3]{:target="_blank"}, [机器学习][ref4]{:target="_blank"}

[ref1]:https://keras.io/
[ref2]:http://keras-cn.readthedocs.io/en/latest/
[ref3]:https://www.zybuluo.com/hanbingtao/note/485480
[ref4]:http://www.jianshu.com/p/28f02bb59fe5

<h2 id="top"></h2>

***

*   [PIL安装](#setup)
*   [图像模式](#mode)
    *   [神经元](#perceptron)
    *   [神经元的训练](#perceptron_train)
    *   [神经网络](#neural_network_m)
    *   [反向传播算法](#back_propagation)
    *   [梯度检查](#check)
    *   [ReLU函数](#relu)
    *   [softmax函数](#softmax)
    *   [回归](#regressor)
    *   [分类](#classification)
*   [卷积神经网络](#convolutional_neural_network)
    *   [从全连接到卷积](#dese_cnn)
    *   [CNN的架构](#cnn_stucture)
    *   [卷积层输出值的计算](#con_output)
    *   [池化层输出值的计算](#pool_output)
    *   [卷积神经网络的训练](#cnn_train)
    *   [CNN分类](#cnn_c)
*   [循环神经网络](#convolutional_neural_network)


***

## 安装 {#setup}

    $ pip install -I --no-cache-dir -v Pillow

或

    $ sudo apt-get install python-imaging

***

## 图像模式 {#mode}

### 1

二值图像，非黑即白，每个像素存储为8bit，0为黑，255为白。

### L

灰度图像，每个像素存储为8bit，0为黑，255为白。从RGB转为L的公式为：

L = (299R+587G+114B)/1000  (取整数)

### P

彩色图像，每个像素存储为8bit，色值从调色板中查询(使用调色板映射到其它模式)。

### RGB

真彩色图像，每个像素存储为3×8bit，依次用8bit表示红、绿、蓝通道。

### RGBA

有透明通道的真彩色图像，每个像素存储为4×8bit，依次为红、绿、蓝、透明通道，255表示完全不透明。

### CMYK

彩色图像，每个像素存储为4×8bit，依次为Cyan青、Magenta品红、Yellow黄、黑KeyPlate，即印刷三原色加黑色。

C=255-R, M=255-G, Y=255-B, K=0

### YCbCr

彩色视频，每个像素存储为3×8bit，依次为Y亮度、Cb蓝色色度、Cr红色色度。

Y = 0.257R+0.504G+0.098B+16

Cb = -0.148R-0.291G+0.439B+128

Cr = 0.439R-0.368G-0.071B+128

### I

整型灰度图像，每个像素存储为32bit，0为黑，255为白。公式同“L”。

### F

浮点灰度图像，每个像素存储为32bit，0为黑，255为白。公式同“L”。


向RGB转换时，1、L、I、F直接将色值复制为三通道，P通过逆向查询RGB值，RGBA、CMYK丢弃第四通道，YCbCr按照公式进行转换。

**[[TOP](#top)]**

***
