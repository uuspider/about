---
layout: post
title: git guide
---
## git 指引

参考：[git简明指南][ref1]{:target="_blank"}, [廖雪峰git教程][ref2]{:target="_blank"}, [猴子都能懂的git教程][ref3]{:target="_blank"}, [Pro Git][ref4]{:target="_blank"}

[ref1]:http://rogerdudler.github.io/git-guide/index.zh.html
[ref2]:http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000
[ref3]:http://backlogtool.com/git-guide/cn/
[ref4]:https://git-scm.com/book/zh

<h2 id="top"></h2>

***

*   [安装](#setup)
*   [启动服务](#service)
*   [模板](#template) : [简单模板](#basic_template) \| [变量](#var) \| [流程控制](#stream)
*   [静态路由](#static)
*   [表单](#form)
*   [数据库](#database): [新建表](#newtable) \| [插入](#insert) \| [查询](#select) \| [更新](#update) \| [删除](#delete)

***

git是分布式版本控制系统，每个客户端都保存了整个**代码仓库**，在本地对文件进行修改后，保存在暂存区域，最后再提交更新，在此过程中，只有提交更新需要连接网络，因此，git对版本控制的操作并不依赖网络，便于保持数据的完整性和版本历史的洁净。

## 安装 {#setup}

    $ sudo apt-get install git

初次运行git之前需要配置一些参数和变量，包括`/etc/gitconfig`、`~/.gitconfig`或`~/.config/git/config`以及当前使用仓库git目录中的`config`(.git/config)，这三个文件中，后一个配置会覆盖上一级别的配置。需要配置的参数和变量包括：

### 用户信息

    $ git config --global user.name "Tom King"
    $ git config --global user.email wtking@gmail.com

git会把用户名和email写入每一次版本提交，并且不可更改。这里`--global`选项是针对全系统设置的，如果针对特定项目使用不同用户名和email时，就不要使用该选项。

### 编辑器

git默认使用vim，如果想使用emacs，可以这样配置：

    $ git config --global core.editor emacs

git可以彩色显示：

    $ git config --global color.ui auto

还可以为git命令设定别名，如将`checkout`缩略为`co`：

    $ git config --global alias.co checkout

### 查看配置信息

    $ git config --list # 查看所有配置
    $ git config user.name # 查看指定项配置

### 帮助

    $ git help config
    $ git config --help
    $ man git-config


**[[TOP](#top)]**

***

## 建立仓库 {#init}

将当前目录所有文件导入git：

    $ git init

该命令创建一个`.git`子目录，初始化git仓库所有的必须文件。

    $ git add *.py
    $ git commit -m 'commit message'

`git add <filename>`将文件添加到暂存区，`git add .`表示将当前目录所有文件加入暂存区，`git commit`是将暂存区快照提交到本地git仓库(HEAD)，`-m`后可输入代码提交的说明信息。

    $ git status

查看当前git仓库的状态。

    $ git log

查看git日志。

## 远端仓库 {#remote}

如果远端服务器还没有建立相应的git仓库，可使用`remote add`：

    $ git remote add <remote-name> <url>

### git clone {#clone}

使用`clone`可将远端服务器上git仓库所有文件和版本信息都复制到本地：

    $ git clone https://github.com/USERNAME/repo LocalGitName

git支持ssh和git协议，如：

    $ git clone ssh://git@github.com:22/USERNAME/repo.git

**[[TOP](#top)]**

***

## push & pull {#push}


如果远端服务器已经存在了当前git仓库，可以直接使用`push`将本地git仓库的更新推送过去：

    $ git push origin master

其格式为`git push -u <remote-name> <branch-name>`，注意如果指定了`-u`选项，此后的推送便可以省略remote-name和branch-name，首次运行时不可省略。

如果远端服务器的git仓库有更新，可以使用`pull`将其同步到本地git仓库：

    $ git pull origin master

执行`push`或`pull`时，如果省略远端git仓库名称，则默认其为origin，因此，习惯上都会把远端git仓库命名为'origin'。

