---
layout: post
title: man for shell script
---
## curl in Linux / shell

参考：[man grep][ref2]{:target="_blank"}, [man sed][ref3]{:target="_blank"}, [man awk][ref4]{:target="_blank"},   [Regular-Expressions.info][ref1]{:target="_blank"}, [One-line scripts for sed][ref5]{:target="_blank"}, [awk guide][ref6]{:target="_blank"}, [awk in bash-scripts][ref7]{:target="_blank"}, [Handy one-line scripts for awk][ref8]{:target="_blank"}

[ref1]:http://www.regular-expressions.info/grep.html
[ref2]:http://www.gnu.org/software/grep/manual/grep.html
[ref3]:http://www.gnu.org/software/sed/manual/sed.html
[ref4]:http://www.gnu.org/software/gawk/manual/gawk.html
[ref5]:https://linuxtoy.org/archives/sed-awk.html
[ref6]:http://www.aslibra.com/doc/awk.htm
[ref7]:http://tldp.org/LDP/abs/html/awk.html
[ref8]:http://www.pement.org/awk/awk1line.txt

<h2 id="top"></h2>

***

*   [grep 基础](#grep)
    *   [正则表达式](#basic)
    *   [grep 选项](#grepoption)
    *   [扩展正则表达式](#extended)
    *   [关于引号](#quotationmark)
    *   [关于汉字匹配](#Zh)
*   [sed 基础](#sed)
    *   [文本替换](#s)
    *   [sed 选项](#sedoption)
    *   [sed 动作](#cmd): [添加行](#ai)\|[替换行](#c)\|[删除行](#d)\|[打印](#p)
    *   [位置参数](#address)
    *   [其它](#cmdplus): [引用](#quote)\|[多项引用](#multiquote)\|[不执行](#notdo)\|[退出](#quit)\|[标记行号](#numline)
    *   [缓存空间](#pattern)
*   [awk 基础](#awk)
    *   [cut](#cut)
    *   [awk 记录](#format)
    *   [打印字段](#field)
    *   [指定分隔符](#separato)
    *   [重定向](#redirection)
    *   [运算符](#operator)
    *   [awk 脚本](#awkscripts)
*   [sed & awk scripts](#scripts)

***
***

## 引言 {#preface}

shell脚本文件一般是下面的这种形式：

    $ vi sample.sh
    #!/bin/bash
    echo "hello world!"
    exit 0

使用`sh`调用该脚本：

    $ sh sample.sh
    
也可以先赋予脚本可执行权限，然后直接执行：

    $ chmod +x sample.sh
    $ ./sample.sh

## 条件判断  {#test}

常用的条件判断形式为：

    [ EXPRESSION ]

如果表达式成立，返回0，否则返回非0。注意：括号与表达式之间必须加空格。

    $ [ 1 = 2 ]
    $ echo $?
    1
    $ [ 1 = 1 ]
    $ echo $?
    0

这里，`$?`表示上一命令的执行结果，若命令成功则为0，否则非0。

### 数值比较 {#NumericComparison}

|:---|:---|
|`n1 -eq n2`|n1等于n2|
|`n1 -ge n2`|n1大于等于n2|
|`n1 -gt n2`|n1大于n2|
|`n1 -le n2`|n1小于等于n2|
|`n1 -lt n2`|n1小于n2|
|`n1 -ne n2`|n1不等于n2|

<br>
这些表达式中，`e-equal`，`g-greater`，`l-less`，`t-than`。

### 字符串比较 {#StringComparison}

|:---|:---|
|`str1 = str2`|字符串相同|
|`str1 != str2`|字符串不同|
|`-n str`|字符串长度不为0|
|`-z str`|字符串长度为0|

<br>
注意：`=`，`!=`前后都要有空格。

### 文件判断 {#FileComparison}

|:---|:---|
|`-e file`|file存在|
|`-d file`|file是文件夹|
|`-f file`|file存在，且是一个文件|
|`-s file`|file存在，且size大于0|
|`-r file`|file存在，且有可读权限|
|`-w file`|file存在，且有可写权限|
|`-x file`|file存在，且有可执行权限|
|`-O file`|file存在，且当前用户为其所有者|
|`-G file`|file存在，且与当前用户的所属组相同|
|`file1 -nt file2`|file1的修改时间晚于file2|
|`file1 -ot file2`|file1的修改时间早于file2|

<br>
### 布尔运算 {#Boolean}

|:---|:---|
|`EXPRESSION1 -a EXPRESSION2`|逻辑与|
|`EXPRESSION1 -o EXPRESSION2`|逻辑或|
|`! EXPRESSION`|逻辑非|

<br>
在命令行下逻辑与、逻辑或的常用形式为：

    $ [ EXPRESSION1 ] && [ EXPRESSION2 ]
    $ [ EXPRESSION1 ] || [ EXPRESSION2 ]













